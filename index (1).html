<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<meta name="theme-color" content="#FFF5F0"/>
<title>ã‚ˆã‚‹ã®ã“ã¨ã°</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&family=Cormorant:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#FFF5F0;overscroll-behavior:none;-webkit-tap-highlight-color:transparent}
::selection{background:rgba(255,150,170,0.25)}
:root{--bg1:#FFF5F0;--rose:#E8627C;--pink:#D4506A;--blush:#F2A0B0;--lavender:#B08ACF;--gold:#D4A853;--card:rgba(255,255,255,0.65);--border:rgba(180,140,140,0.12);--t1:#3A2830;--t2:rgba(58,40,48,0.72);--t3:rgba(58,40,48,0.45);--t4:rgba(58,40,48,0.28);--grad:linear-gradient(135deg,#E8627C,#D4506A);--grad2:linear-gradient(135deg,#E8627C,#B08ACF);--shadow:0 2px 16px rgba(180,100,120,0.08)}
textarea:focus,input:focus{outline:none}
.fade-in{animation:fadeIn .5s ease both}.slide-up{animation:slideUp .45s ease both}.slide-up-1{animation:slideUp .45s .05s ease both;opacity:0}.slide-up-2{animation:slideUp .45s .1s ease both;opacity:0}.slide-up-3{animation:slideUp .45s .15s ease both;opacity:0}.slide-up-4{animation:slideUp .45s .2s ease both;opacity:0}.slide-up-5{animation:slideUp .45s .25s ease both;opacity:0}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}@keyframes spin{to{transform:rotate(360deg)}}@keyframes breathe{0%,100%{opacity:.3}50%{opacity:.8}}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.04)}}@keyframes twinkle{0%,100%{opacity:.08}50%{opacity:.35}}
.hover-lift{transition:all .2s}.hover-lift:active{transform:scale(0.98)}.no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}
</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.24.7/babel.min.js"></script>
<script type="text/babel">
const {useState,useEffect,useRef}=React;

/* â”€â”€â”€ SVG Character Avatars â”€â”€â”€ */
function CharaAvatar({id,size=64,animate=false}){
  const s=size;
  // Each character: body color, ear/feature style, accent
  const defs={
    tsuki_neko:{body:"#DCC8F0",ear:"cat",accent:"#B08ACF",cheek:"#F0C0D0",eye:"#4A3050",deco:"moon"},
    hoshi_usagi:{body:"#F5E8B0",ear:"bunny",accent:"#F5D88A",cheek:"#FFBEC8",eye:"#4A3050",deco:"star"},
    hana_kitsune:{body:"#F5CDB8",ear:"fox",accent:"#E8927C",cheek:"#FFB8A8",eye:"#4A3050",deco:"flower"},
    yuki_hitsuji:{body:"#D0E4F0",ear:"sheep",accent:"#88BCD8",cheek:"#D0E8F0",eye:"#4A3050",deco:"snow"},
    yoru_fukurou:{body:"#D0C0E8",ear:"owl",accent:"#9B6DB5",cheek:"#E0D0F0",eye:"#4A3050",deco:"stars"},
    asa_kotori:{body:"#FFD8C8",ear:"bird",accent:"#E88A6A",cheek:"#FFB8A8",eye:"#4A3050",deco:"note"},
    kaze_shika:{body:"#E0DCC0",ear:"deer",accent:"#A8B060",cheek:"#E8E0C8",eye:"#4A3050",deco:"leaf"},
    umi_iruka:{body:"#B8D8F0",ear:"fin",accent:"#60A8D0",cheek:"#C8E0F0",eye:"#4A3050",deco:"wave"},
    hoshi_kuma:{body:"#F0DCC0",ear:"bear",accent:"#C8A878",cheek:"#FFD0B8",eye:"#4A3050",deco:"heart"},
    yume_chou:{body:"#E8D0F0",ear:"butterfly",accent:"#C084D0",cheek:"#F0D8F0",eye:"#4A3050",deco:"sparkle"},
    mori_tanuki:{body:"#D8D0B8",ear:"tanuki",accent:"#A89870",cheek:"#E0D8C8",eye:"#4A3050",deco:"leaf2"},
    sora_ryu:{body:"#C0E8D8",ear:"dragon",accent:"#60B898",cheek:"#D0F0E0",eye:"#4A3050",deco:"cloud"}
  };
  const d=defs[id]||defs.tsuki_neko;

  // Ears/features based on type
  function Ears(){
    switch(d.ear){
      case"cat":return<><polygon points="20,22 16,4 32,18" fill={d.accent}/><polygon points="60,22 64,4 48,18" fill={d.accent}/></>;
      case"bunny":return<><ellipse cx="30" cy="12" rx="6" ry="18" fill={d.accent} transform="rotate(-8,30,12)"/><ellipse cx="50" cy="12" rx="6" ry="18" fill={d.accent} transform="rotate(8,50,12)"/><ellipse cx="30" cy="11" rx="3.5" ry="14" fill={d.cheek} opacity="0.6"/><ellipse cx="50" cy="11" rx="3.5" ry="14" fill={d.cheek} opacity="0.6"/></>;
      case"fox":return<><polygon points="18,26 6,4 32,20" fill={d.accent}/><polygon points="62,26 74,4 48,20" fill={d.accent}/><polygon points="18,26 10,8 28,20" fill="#fff" opacity="0.4"/><polygon points="62,26 70,8 52,20" fill="#fff" opacity="0.4"/></>;
      case"sheep":return<><circle cx="22" cy="24" r="10" fill="#fff" opacity="0.8"/><circle cx="58" cy="24" r="10" fill="#fff" opacity="0.8"/><circle cx="30" cy="18" r="8" fill="#fff" opacity="0.7"/><circle cx="50" cy="18" r="8" fill="#fff" opacity="0.7"/><circle cx="40" cy="16" r="9" fill="#fff" opacity="0.8"/></>;
      case"owl":return<><polygon points="20,22 14,8 30,20" fill={d.accent}/><polygon points="60,22 66,8 50,20" fill={d.accent}/></>;
      case"bird":return<><polygon points="38,16 40,8 42,16" fill={d.accent} opacity="0.8"/></>;
      case"deer":return<><path d="M26,20 Q24,10 20,4 Q22,10 18,2" fill="none" stroke={d.accent} strokeWidth="2.5" strokeLinecap="round"/><path d="M54,20 Q56,10 60,4 Q58,10 62,2" fill="none" stroke={d.accent} strokeWidth="2.5" strokeLinecap="round"/></>;
      case"fin":return<><path d="M40,20 Q44,10 40,4 Q36,10 40,20" fill={d.accent}/></>;
      case"bear":return<><circle cx="22" cy="26" r="9" fill={d.accent}/><circle cx="58" cy="26" r="9" fill={d.accent}/><circle cx="22" cy="26" r="5" fill={d.cheek} opacity="0.5"/><circle cx="58" cy="26" r="5" fill={d.cheek} opacity="0.5"/></>;
      case"butterfly":return<><ellipse cx="24" cy="30" rx="14" ry="14" fill={d.accent} opacity="0.35" transform="rotate(-15,24,30)"/><ellipse cx="56" cy="30" rx="14" ry="14" fill="#FFD0E0" opacity="0.35" transform="rotate(15,56,30)"/></>;
      case"tanuki":return<><ellipse cx="22" cy="26" rx="8" ry="7" fill={d.accent}/><ellipse cx="58" cy="26" rx="8" ry="7" fill={d.accent}/></>;
      case"dragon":return<><path d="M26,20 Q24,12 20,16 Q26,14 26,20" fill={d.accent}/><path d="M32,16 Q32,8 28,12 Q32,10 32,16" fill={d.accent}/><path d="M54,20 Q56,12 60,16 Q54,14 54,20" fill={d.accent}/><path d="M48,16 Q48,8 52,12 Q48,10 48,16" fill={d.accent}/></>;
      default:return null;
    }
  }

  // Eyes: owl gets big round eyes, others get standard
  function Eyes(){
    if(d.ear==="owl"){return<><circle cx="32" cy="44" r="8" fill="#fff" opacity="0.9"/><circle cx="48" cy="44" r="8" fill="#fff" opacity="0.9"/><circle cx="32" cy="44" r="4" fill={d.eye}/><circle cx="48" cy="44" r="4" fill={d.eye}/><circle cx="33.5" cy="43" r="1.5" fill="#fff"/><circle cx="49.5" cy="43" r="1.5" fill="#fff"/><polygon points="38,52 40,56 42,52" fill="#D4A853"/></>;}
    if(d.ear==="tanuki"){return<><ellipse cx="32" cy="46" rx="6" ry="5" fill="#4A3050" opacity="0.6"/><ellipse cx="48" cy="46" rx="6" ry="5" fill="#4A3050" opacity="0.6"/><ellipse cx="32" cy="46" rx="3" ry="3.5" fill="#fff"/><ellipse cx="48" cy="46" rx="3" ry="3.5" fill="#fff"/><circle cx="32" cy="45.5" r="2" fill={d.eye}/><circle cx="48" cy="45.5" r="2" fill={d.eye}/><circle cx="33" cy="44.8" r="0.8" fill="#fff"/><circle cx="49" cy="44.8" r="0.8" fill="#fff"/><ellipse cx="40" cy="54" rx="2" ry="1.2" fill="#4A3050"/></>;}
    return<><ellipse cx="33" cy="46" rx="2.5" ry="3" fill={d.eye}/><ellipse cx="47" cy="46" rx="2.5" ry="3" fill={d.eye}/><ellipse cx="33" cy="45.2" rx="1" ry="1.3" fill="#fff"/><ellipse cx="47" cy="45.2" rx="1" ry="1.3" fill="#fff"/><ellipse cx="40" cy="52" rx="1.8" ry="1" fill="#D4506A"/><path d="M33,55 Q40,59 47,55" fill="none" stroke="#D4506A" strokeWidth="1" strokeLinecap="round"/></>;
  }

  const bodyShape=d.ear==="fin"
    ?<ellipse cx="40" cy="48" rx="26" ry="20" fill={d.body}/>
    :<circle cx="40" cy="48" r="24" fill={d.body}/>;

  return <div style={{width:s,height:s,display:"inline-flex",alignItems:"center",justifyContent:"center",animation:animate?"float 3s ease infinite":"none",flexShrink:0}}>
    <svg viewBox="0 0 80 80" width={s} height={s} style={{display:"block"}}>
      {bodyShape}
      <Ears/>
      <Eyes/>
      <circle cx="28" cy="52" r="4" fill={d.cheek} opacity="0.35"/>
      <circle cx="52" cy="52" r="4" fill={d.cheek} opacity="0.35"/>
    </svg>
  </div>;
}

/* â”€â”€â”€ 12 Dream Types â”€â”€â”€ */
const DREAM_TYPES=[
  {id:"tsuki_neko",name:"ã¤ãã®ã­ã“",sub:"ç›´æ„Ÿã™ã‚‹ã©ã„ç”˜ãˆã‚“åŠ",desc:"è¨€è‘‰ã«ã•ã‚Œã¦ãªã„ã“ã¨ã¾ã§èª­ã¿å–ã£ã¡ã‚ƒã†ã€‚å¥½ããªäººã®å¤¢ã°ã‹ã‚Šè¦‹ãŒã¡ã€‚",love:"å¥½ãã«ãªã£ãŸã‚‰ä¸€é€”ã€‚æ„Ÿã˜å–ã‚Šã™ãã¦ç–²ã‚Œã‚‹ã“ã¨ã‚‚",share:"#ã¤ãã®ã­ã“ ğŸŒ™å…¨äººå£ã®8%ã®ãƒ¬ã‚¢ã‚¿ã‚¤ãƒ—",bestMatch:"yuki_hitsuji",bestWhy:"ã‚†ãã®ã²ã¤ã˜ã®ä¸å™¨ç”¨ãªå„ªã—ã•ã«ç›´æ„ŸãŒå¿œãˆã‚‹",color:"#B08ACF",pct:"8%",keywords:["æœˆ","æ¶™","é›¨","æƒ³"]},
  {id:"hoshi_usagi",name:"ã»ã—ã®ã†ã•ã",sub:"ç†æƒ³é«˜ã‚çŒªçªçŒ›é€²",desc:"å¤¢ã®ä¸­ã§ã‚‚å†’é™ºã—ã¦ã‚‹ã€‚é£›ã¶å¤¢ã‚„èµ°ã‚‹å¤¢ãŒå¤šã„è¡Œå‹•åŠ›ãŠã°ã‘ã€‚",love:"è¿½ã„ã‹ã‘ã‚‹ã®å¥½ãã€‚æ‰‹ã«å…¥ã‚‹ã¨èˆˆå‘³ãªããªã‚ŠãŒã¡â€¦",share:"#ã»ã—ã®ã†ã•ã â­å…¨äººå£ã®6%ã€è¶…ãƒ¬ã‚¢",bestMatch:"hana_kitsune",bestWhy:"ã¯ãªã®ãã¤ã­ã®æŸ”ã‚‰ã‹ã•ãŒçªã£èµ°ã‚‹ã‚ãªãŸã‚’å—ã‘æ­¢ã‚ã‚‹",color:"#D4A853",pct:"6%",keywords:["é£›","ç©º","èµ°","å…‰"]},
  {id:"hana_kitsune",name:"ã¯ãªã®ãã¤ã­",sub:"å¤©æ€§ã®äººãŸã‚‰ã—",desc:"å¤¢ã«èª°ã‹ãŒå‡ºã¦ãã‚‹ç‡No.1ã€‚ä½•ã‚’æ±‚ã‚ã¦ã‚‹ã‹è¨€è‘‰ãªã—ã§åˆ†ã‹ã‚‹ã€‚",love:"ãƒ¢ãƒ†ã‚‹ã‘ã©æœ¬å‘½æ±ºã‚ã‚‰ã‚Œãªã„ã€‚å¿ƒé–‹ã‘ã‚‹ç›¸æ‰‹ãŒè¦‹ã¤ã‹ã‚Œã°æœ€å¼·",share:"#ã¯ãªã®ãã¤ã­ ğŸŒ¹å¤©æ€§ã®äººãŸã‚‰ã—ã‚¿ã‚¤ãƒ—",bestMatch:"yoru_fukurou",bestWhy:"ã€Œã“ã®äººã ã‘ã¯èª­ã‚ãªã„ã€ãŒæ‹ã®ã¯ã˜ã¾ã‚Š",color:"#E8627C",pct:"12%",keywords:["äºº","è©±","å‹","æ‹"]},
  {id:"yuki_hitsuji",name:"ã‚†ãã®ã²ã¤ã˜",sub:"ã‚¬ãƒ¼ãƒ‰å›ºã‚Ã—ä¸­èº«ã‚ã£ãŸã‹ã„",desc:"ä¸å®‰ãªå¤¢ãŒå¤šã„ã‘ã©è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã—ã¦ã‚‹è¨¼æ‹ ã€‚ç¹Šç´°ã§èŠ¯ãŒå¼·ã„ã€‚",love:"ä¿¡é ¼ã™ã‚‹ã¾ã§æ™‚é–“ã‹ã‹ã‚‹ã‘ã©ã€ä¸€åº¦ä¿¡ã˜ãŸã‚‰èª°ã‚ˆã‚Šæ·±ã„",share:"#ã‚†ãã®ã²ã¤ã˜ ğŸ’ç¹Šç´°Ã—èŠ¯ã®å¼·ã•æœ€å¼·",bestMatch:"tsuki_neko",bestWhy:"ã¤ãã®ã­ã“ã®ç›´æ„ŸãŒã‚ãªãŸã®æœ¬éŸ³ã‚’å¯Ÿã—ã¦ãã‚Œã‚‹",color:"#6BA3BE",pct:"10%",keywords:["æ­¯","è½","é€ƒ","æ€–"]},
  {id:"yoru_fukurou",name:"ã‚ˆã‚‹ã®ãµãã‚ã†",sub:"ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ãªã‚«ãƒªã‚¹ãƒ",desc:"ä¸æ€è­°ãªå¤¢ã—ã‹è¦‹ãªã„ã€‚ç‹¬è‡ªã®æ„Ÿæ€§ã§äººã‚’æƒ¹ãã¤ã‘ã‚‹å¤©æ€§ã®ã‚«ãƒªã‚¹ãƒã€‚",love:"ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ã«æƒ¹ãã¤ã‘ã‚‹ã‘ã©ã€åˆ†ã‹ã£ã¦ãã‚Œã‚‹äººã¯å®ç‰©",share:"#ã‚ˆã‚‹ã®ãµãã‚ã† ğŸ”®å…¨äººå£ã®4%ã€æœ€ãƒ¬ã‚¢",bestMatch:"hoshi_usagi",bestWhy:"ã»ã—ã®ã†ã•ãã®çœŸã£ç›´ãã•ãŒè¤‡é›‘ãªå†…é¢ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹",color:"#9B6DB5",pct:"4%",keywords:["è›‡","å¤‰","ä¸æ€è­°","è‰²"]},
  {id:"asa_kotori",name:"ã‚ã•ã®ã“ã¨ã‚Š",sub:"ãƒã‚¸ãƒ†ã‚£ãƒ–ã®å¤©æ‰",desc:"æ˜ã‚‹ã„å¤¢ãŒå¤šã„æ¥½å¤©å®¶ã€‚èµ·ããŸç¬é–“ã‹ã‚‰å…ƒæ°—ãªæœ€å¼·ãƒ¡ãƒ³ã‚¿ãƒ«ã€‚",love:"å¥½ãã«ãªã‚‹ã¨ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã«ä¼ãˆã¡ã‚ƒã†ã€‚è£è¡¨ã®ãªã•ãŒãƒ¢ãƒ†ã‚‹",share:"#ã‚ã•ã®ã“ã¨ã‚Š ğŸ¦å…¨äººå£ã®11%",bestMatch:"mori_tanuki",bestWhy:"ã‚‚ã‚Šã®ãŸã¬ãã®ç©ã‚„ã‹ã•ãŒå®‰å¿ƒã§ãã‚‹å±…å ´æ‰€ã«ãªã‚‹",color:"#E88A6A",pct:"11%",keywords:["æœ","èŠ±","æ˜","ç¬‘"]},
  {id:"kaze_shika",name:"ã‹ãœã®ã—ã‹",sub:"è‡ªç”±ã‚’æ„›ã™ã‚‹ä¸€åŒ¹ç‹¼",desc:"åºƒã„å ´æ‰€ã‚„è‡ªç„¶ã®å¤¢ãŒå¤šã„ã€‚æŸç¸›ãŒè‹¦æ‰‹ã§ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ãŒå¤§äº‹ã€‚",love:"è·é›¢æ„Ÿã®ãƒãƒ©ãƒ³ã‚¹ãŒå‘½ã€‚è¿‘ã™ãã‚‹ã¨é€ƒã’ãŸããªã‚‹",share:"#ã‹ãœã®ã—ã‹ ğŸ¦Œè‡ªç”±ã‚’æ„›ã™ã‚‹å…¨äººå£ã®7%",bestMatch:"umi_iruka",bestWhy:"ã†ã¿ã®ã„ã‚‹ã‹ã®è‡ªç”±ã•ãŒãŠäº’ã„ã‚’ç¸›ã‚‰ãªã„ç†æƒ³ã®é–¢ä¿‚",color:"#A8B060",pct:"7%",keywords:["å±±","æ£®","é“","é¢¨"]},
  {id:"umi_iruka",name:"ã†ã¿ã®ã„ã‚‹ã‹",sub:"ã¿ã‚“ãªã®å¤ªé™½ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼",desc:"æ°´ã‚„æµ·ã®å¤¢ãŒå¤šã„æ„Ÿæƒ…è±Šã‹ãªã‚¿ã‚¤ãƒ—ã€‚å ´ã®ç©ºæ°—ã‚’æ˜ã‚‹ãã™ã‚‹å¤©æ‰ã€‚",love:"èª°ã«ã§ã‚‚å„ªã—ã„ã‹ã‚‰ã€Œç‰¹åˆ¥ã€ãŒä¼ã‚ã‚Šã«ãã„ã€‚æœ¬æ°—ã®æ™‚ã¯ä¸å™¨ç”¨",share:"#ã†ã¿ã®ã„ã‚‹ã‹ ğŸ¬ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã€å…¨äººå£ã®9%",bestMatch:"kaze_shika",bestWhy:"ã‹ãœã®ã—ã‹ã®ã‚¯ãƒ¼ãƒ«ã•ã«æƒ¹ã‹ã‚Œã¦ã€è‡ªåˆ†ã‚‚ç´ ã«æˆ»ã‚Œã‚‹",color:"#60A8D0",pct:"9%",keywords:["æ°´","æµ·","æ³³","æ³¢"]},
  {id:"hoshi_kuma",name:"ã»ã—ã®ãã¾",sub:"åŒ…å®¹åŠ›No.1ã®ç™’ã—ç³»",desc:"å®ˆã‚‹å¤¢ã‚„èª°ã‹ã‚’åŠ©ã‘ã‚‹å¤¢ãŒå¤šã„ã€‚é ¼ã‚‰ã‚Œã‚‹ã¨å¬‰ã—ã„é¢å€’è¦‹ã®ã„ã„ã‚¿ã‚¤ãƒ—ã€‚",love:"å°½ãã—ã™ãæ³¨æ„ã€‚è‡ªåˆ†ã®ã“ã¨ã‚‚å¤§äº‹ã«ã—ã¦",share:"#ã»ã—ã®ãã¾ ğŸ§¸åŒ…å®¹åŠ›No.1ã‚¿ã‚¤ãƒ—",bestMatch:"yume_chou",bestWhy:"ã‚†ã‚ã®ã¡ã‚‡ã†ã®ç¹Šç´°ã•ã‚’å®ˆã‚ŠãŸããªã‚‹ã€‚ç›¸æ€ç›¸æ„›ã«ãªã‚Šã‚„ã™ã„",color:"#C8A878",pct:"10%",keywords:["å®¶","å®ˆ","åŠ©","æŠ±"]},
  {id:"yume_chou",name:"ã‚†ã‚ã®ã¡ã‚‡ã†",sub:"æ„Ÿæ€§ã™ã‚‹ã©ã„ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ",desc:"è‰²å½©è±Šã‹ã§ç¾ã—ã„å¤¢ãŒå¤šã„ã€‚èŠ¸è¡“çš„ã‚»ãƒ³ã‚¹ãŒå…‰ã‚‹ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚",love:"ç†æƒ³ãŒé«˜ã„ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆã€‚ç¾å®Ÿã¨ã®ã‚®ãƒ£ãƒƒãƒ—ã«æ‚©ã¿ãŒã¡",share:"#ã‚†ã‚ã®ã¡ã‚‡ã† ğŸ¦‹å…¨äººå£ã®5%ã®ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ",bestMatch:"hoshi_kuma",bestWhy:"ã»ã—ã®ãã¾ã®å®‰å®šæ„ŸãŒãƒ•ãƒ¯ãƒ•ãƒ¯ã—ãŒã¡ãªã‚ãªãŸã‚’æ”¯ãˆã‚‹",color:"#C084D0",pct:"5%",keywords:["è‰²","ç¾","çµµ","æ­Œ"]},
  {id:"mori_tanuki",name:"ã‚‚ã‚Šã®ãŸã¬ã",sub:"æ„›ã•ã‚Œä¸Šæ‰‹ãªãƒã‚¤ãƒšãƒ¼ã‚¹",desc:"ã®ã‚“ã³ã‚Šã—ãŸå¤¢ãŒå¤šã„ã€‚è‡ªç„¶ä½“ã§ã„ã‚‹ã ã‘ã§äººãŒé›†ã¾ã£ã¦ãã‚‹ä¸æ€è­°ãªäººã€‚",love:"ä¸€ç·’ã«ã„ã¦æ¥½ãªäººã‚’é¸ã¶å¤©æ‰ã€‚ã§ã‚‚è‡ªåˆ†ã‹ã‚‰å‹•ã‹ãªã•ã™ãæ³¨æ„",share:"#ã‚‚ã‚Šã®ãŸã¬ã ğŸƒæ„›ã•ã‚Œãƒã‚¤ãƒšãƒ¼ã‚¹ã€å…¨äººå£ã®11%",bestMatch:"asa_kotori",bestWhy:"ã‚ã•ã®ã“ã¨ã‚Šã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã«å¼•ã£å¼µã£ã¦ã‚‚ã‚‰ãˆã‚‹ç›¸æ€§",color:"#A89870",pct:"11%",keywords:["é£Ÿ","ä¼‘","çœ ","ç©"]},
  {id:"sora_ryu",name:"ãã‚‰ã®ã‚Šã‚…ã†",sub:"é‡å¿ƒå®¶ã®ãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ª",desc:"å£®å¤§ãªå¤¢ã‚„ã‚¹ã‚±ãƒ¼ãƒ«ã®å¤§ãã„å¤¢ãŒå¤šã„ã€‚å‘¨ã‚Šã‚’å¼•ã£å¼µã‚‹ã‚«ãƒªã‚¹ãƒæ€§ã€‚",love:"å¯¾ç­‰ã«æ¸¡ã‚Šåˆãˆã‚‹ç›¸æ‰‹ã˜ã‚ƒãªã„ã¨ç‰©è¶³ã‚Šãªã„",share:"#ãã‚‰ã®ã‚Šã‚…ã† ğŸ‰å…¨äººå£ã®7%ã®ãƒªãƒ¼ãƒ€ãƒ¼",bestMatch:"hana_kitsune",bestWhy:"ã¯ãªã®ãã¤ã­ã®ç¤¾äº¤åŠ›ã¨ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã§æœ€å¼·ã‚¿ãƒƒã‚°",color:"#60B898",pct:"7%",keywords:["å¤§","ä¸Š","å¼·","æˆ¦"]}
];

function diagnoseDreamType(text){
  let scores={};DREAM_TYPES.forEach(t=>{scores[t.id]=0;t.keywords.forEach(k=>{if(text.includes(k))scores[t.id]+=2})});
  DREAM_TYPES.forEach(t=>{scores[t.id]+=Math.random()*3});
  let best=DREAM_TYPES[0];DREAM_TYPES.forEach(t=>{if(scores[t.id]>scores[best.id])best=t});return best;
}

/* â”€â”€â”€ Fortune Logic â”€â”€â”€ */
const SIGNS=[{k:"ãŠã²ã¤ã˜åº§",icon:"â™ˆ"},{k:"ãŠã†ã—åº§",icon:"â™‰"},{k:"ãµãŸã”åº§",icon:"â™Š"},{k:"ã‹ã«åº§",icon:"â™‹"},{k:"ã—ã—åº§",icon:"â™Œ"},{k:"ãŠã¨ã‚åº§",icon:"â™"},{k:"ã¦ã‚“ã³ã‚“åº§",icon:"â™"},{k:"ã•ãã‚Šåº§",icon:"â™"},{k:"ã„ã¦åº§",icon:"â™"},{k:"ã‚„ãåº§",icon:"â™‘"},{k:"ã¿ãšãŒã‚åº§",icon:"â™’"},{k:"ã†ãŠåº§",icon:"â™“"}];
const pick=arr=>arr[Math.floor(Math.random()*arr.length)];

function generateLucky(){
  const colors=[{v:"ãƒ­ãƒ¼ã‚ºãƒ”ãƒ³ã‚¯",hex:"#E8627C",reason:"æ‹æ„›é‹UPã€‚ãƒªãƒƒãƒ—ã«ä½¿ã£ã¦"},{v:"ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼",hex:"#B08ACF",reason:"ç›´æ„ŸåŠ›UPã€‚å¤§äº‹ãªåˆ¤æ–­ãŒã‚ã‚‹æ—¥ã«"},{v:"ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³ã‚´ãƒ¼ãƒ«ãƒ‰",hex:"#D4A853",reason:"é‡‘é‹ã®è‰²ã€‚ãŠè²¡å¸ƒã‚„ã‚¢ã‚¯ã‚»ã«"},{v:"ãƒ™ãƒ“ãƒ¼ãƒ–ãƒ«ãƒ¼",hex:"#6BA3BE",reason:"ã‚³ãƒŸãƒ¥åŠ›UPã€‚äººã¨è©±ã™æ—¥ã«"},{v:"ã‚³ãƒ¼ãƒ©ãƒ«",hex:"#E07070",reason:"è¡Œå‹•åŠ›ã®è‰²ã€‚ãƒãƒ¼ã‚¯ã«ä»•è¾¼ã‚“ã§"}];
  const items=[{v:"ãƒªãƒƒãƒ—",reason:"è¨€è‘‰ã«åŠ›ãŒå®¿ã‚‹æ—¥",e:"ğŸ’‹"},{v:"é¦™æ°´",reason:"å—…è¦šã‹ã‚‰é‹æ°—UP",e:"ğŸŒ¸"},{v:"ãƒŸãƒ©ãƒ¼",reason:"è‡ªåˆ†ã‚’è¦‹ã¤ã‚ç›´ã™ã¨æ°—ã¥ã",e:"ğŸª"},{v:"ãƒã‚¤ãƒ«ã‚ªã‚¤ãƒ«",reason:"æŒ‡å…ˆã‚±ã‚¢ãŒé–‹é‹ã®ã‚³ãƒ„",e:"ğŸ’…"}];
  const nums=[{v:"7",reason:"ç›´æ„ŸãŒå†´ãˆã‚‹æ•°å­—"},{v:"11",reason:"11:11ã«é¡˜ã„äº‹ã—ã¦ã¿ã¦"},{v:"22",reason:"å¤¢ã‚’å¶ãˆã‚‹ãƒŠãƒ³ãƒãƒ¼"},{v:"33",reason:"æ„›ã¨ç™’ã—ã®æ•°å­—"}];
  const matchType=pick(DREAM_TYPES);
  const matchHints=["ä»Šæ—¥ã¯ã“ã®ã‚¿ã‚¤ãƒ—ã®äººã¨æ°—ãŒåˆã„ãã†","ã“ã®ã‚¿ã‚¤ãƒ—ã®äººã¨ã®è·é›¢ãŒç¸®ã¾ã‚‹æ—¥","æ„å¤–ãªå…±é€šç‚¹ãŒè¦‹ã¤ã‹ã‚‹ã‹ã‚‚","ã“ã®ã‚¿ã‚¤ãƒ—ã®äººãŒã‚ãªãŸã®ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³"];
  return{color:pick(colors),item:pick(items),num:pick(nums),matchType,matchHint:pick(matchHints)};
}

function generateFortune(name,sign,gender){
  const ranks=["å¤§å‰","ä¸­å‰","å°å‰","å‰","æœ«å‰"];const weights=[10,25,30,25,10];
  let r=Math.random()*100,acc=0,rank=ranks[2];
  for(let i=0;i<ranks.length;i++){acc+=weights[i];if(r<acc){rank=ranks[i];break}}
  const g=gender==="male";
  const msgs={"å¤§å‰":{good:name+"ã€ä»Šæ—¥ã®æ˜Ÿå›ã‚Šã¡ã‚‡ã£ã¨ã™ã”ã„ã€‚ç›´æ„Ÿã§ã€Œã‚ã€ã“ã‚Œã€ã£ã¦æ€ã£ãŸã“ã¨ã€å…¨éƒ¨æ­£è§£ã€‚"+(g?"åˆå¾Œã«å…¥ã‚‹é€£çµ¡ãŒéµã€‚å³ãƒ¬ã‚¹ãŒå‰ã€‚":"14æ™‚ä»¥é™ã«å‡ºä¼šã„é‹ãŒè·³ã­ã‚‹ã€‚ãƒã‚¤ãƒ«ã¨ãƒªãƒƒãƒ—ã€æ•´ãˆã¦ã‹ã‚‰å‡ºã‹ã‘ã¦ã€‚"),watch:"ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ä¸ŠãŒã‚Šã™ãã¦ä½™è¨ˆãªã²ã¨è¨€ã«æ³¨æ„ã€‚ç‰¹ã«LINEã®æ·±å¤œé€ä¿¡ã€ä»Šæ—¥ã¯ã‚„ã‚ã¦ãŠã„ã¦ã€‚"},"ä¸­å‰":{good:name+"ã€äººã‹ã‚‰å£°ãŒã‹ã‹ã‚Šã‚„ã™ã„æ—¥ã€‚ã€Œã¡ã‚‡ã£ã¨ã„ã„ï¼Ÿã€ã‹ã‚‰å§‹ã¾ã‚‹è©±ã€å…¨éƒ¨ä¹—ã£ã¦OKã€‚"+(g?"ä¸Šã®äººã‹ã‚‰ã®è©•ä¾¡ãŒä¸ŠãŒã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‚":"å‹é”ã®ç´¹ä»‹ã€ä»Šæ—¥ã¯æ–­ã‚‰ãªã„ã§ã€‚å½“ãŸã‚Šã®äºˆæ„Ÿã€‚"),watch:"èƒƒè…¸ãŒã¡ã‚‡ã£ã¨å¼±ã„æ—¥ã€‚é£Ÿã¹ã™ãã‚‹ã¨åˆå¾Œã ã‚‹ããªã‚‹ã‹ã‚‰ã€ãƒ©ãƒ³ãƒã¯è»½ã‚ã«ã€‚"},"å°å‰":{good:name+"ã€æ´¾æ‰‹ã•ã¯ãªã„ã‘ã©ã€Œã‚ã€ãªã‚“ã‹ã„ã„æ—¥ã ã£ãŸã€ã£ã¦å¤œã«æ€ãˆã‚‹æ—¥ã€‚å°ã•ãªè¦ªåˆ‡ãŒè‡ªåˆ†ã«è¿”ã£ã¦ãã‚‹ã€‚",watch:"SNSè¦‹ã™ãã‚‹ã¨æ¯”è¼ƒãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚Šã‚„ã™ã„æ—¥ã€‚é€šçŸ¥ã‚ªãƒ•ã«ã—ã¦ãƒªã‚¢ãƒ«ã®æ™‚é–“ã‚’å¤§äº‹ã«ã€‚"},"å‰":{good:name+"ã€ä»Šæ—¥ã¾ã„ãŸç¨®ãŒ2é€±é–“å¾Œã«èŠ½ã‚’å‡ºã™ã€‚æ°—ã«ãªã£ã¦ãŸæœ¬ãƒ»å ´æ‰€ãƒ»äººã€ä»Šæ—¥ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã—ã¦ãŠã„ã¦ã€‚",watch:"ã€Œãªã‚“ã‹é•ã†ãªã€ã£ã¦æ„Ÿã˜ãŸç›´æ„Ÿã€åˆã£ã¦ã‚‹ã€‚ç„¡ç†ã«åˆã‚ã›ãªãã¦å¤§ä¸ˆå¤«ã€‚"},"æœ«å‰":{good:name+"ã€ãŠé¢¨å‘‚ã«ã‚†ã£ãã‚Šæµ¸ã‹ã£ã¦ã€å¥½ããªã‚‚ã®é£Ÿã¹ã¦ã€22æ™‚ã«å¯ã‚‹ã€‚ãã‚ŒãŒä»Šæ—¥ã®æœ€å¼·ãƒ ãƒ¼ãƒ–ã€‚",watch:"é ‘å¼µã‚ŠãŸã„æ°—æŒã¡ã¯ã‚ã‹ã‚‹ã‘ã©ã€ä»Šæ—¥ã¯å……é›»æ—¥ã€‚ç„¡ç†ã—ã¦å‹•ãã¨æ¥é€±ã«ãƒ„ã‚±ãŒãã‚‹ã‚ˆã€‚"}};
  return{rank,...msgs[rank],lucky:generateLucky()};
}

function analyzeDream(text){
  const symbols=[];const map={è›‡:"å¤‰å®¹",æ­¯:"ä¸å®‰",æ°´:"æ„Ÿæƒ…",é£›:"è‡ªç”±",è¿½:"å›é¿",è½:"ä¸å®‰å®š",ç«:"æƒ…ç†±",æµ·:"æ½œåœ¨æ„è­˜",èŠ±:"æˆé•·",æœˆ:"ç›´æ„Ÿ",çŒ«:"è‡ªç«‹",çŠ¬:"ä¿¡é ¼",é­š:"å¹¸é‹",é³¥:"å¸Œæœ›",é›¨:"æµ„åŒ–"};
  Object.entries(map).forEach(([k,v])=>{if(text.includes(k))symbols.push({word:k,meaning:v})});
  if(!symbols.length)symbols.push({word:"å¤¢å…¨ä½“",meaning:"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"});
  const type=diagnoseDreamType(text);
  const views={spiritual:{label:"ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«",title:"å®‡å®™ãŒã‚ãªãŸã«ä¼ãˆãŸã„ã“ã¨",good:"ã“ã®å¤¢ã¯æ³¢å‹•ãŒå¤‰ã‚ã‚Šå§‹ã‚ã¦ã‚‹ã‚µã‚¤ãƒ³ã€‚ç›´æ„ŸãŒå†´ãˆã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‚ãµã¨æµ®ã‹ã‚“ã ã“ã¨ã‚’ä¿¡ã˜ã¦å‹•ã„ã¦ã¿ã¦ã€‚",watch:"ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒé«˜ã¾ã£ã¦ã‚‹åˆ†ã€å‘¨ã‚Šã®å½±éŸ¿ã‚‚å—ã‘ã‚„ã™ã„ã‚ˆã€‚ãƒã‚¬ãƒ†ã‚£ãƒ–ãªäººã‹ã‚‰ã¯è·é›¢ã‚’ã¨ã£ã¦ã€‚"},psychology:{label:"æ·±å±¤å¿ƒç†",title:"ã‚ãªãŸã®å¿ƒãŒæœ¬å½“ã«æ±‚ã‚ã¦ã‚‹ã‚‚ã®",good:"æ½œåœ¨æ„è­˜ãŒå¤‰ã‚ã‚ŠãŸã„ã£ã¦å«ã‚“ã§ã‚‹ã€‚æ—¥å¸¸ã®é•å’Œæ„Ÿã€ã“ã®å¤¢ã¯ãã‚Œã‚’æ˜ ã—å‡ºã—ã¦ã‚‹ã‚ˆã€‚",watch:"ä¸€æ°—ã«å¤‰ãˆã‚ˆã†ã¨ã—ãªã„ã§ã­ã€‚æ„Ÿæƒ…ã«å¼•ã£å¼µã‚‰ã‚Œã‚„ã™ã„æ™‚æœŸã ã‹ã‚‰ã€‚"},love:{label:"æ‹æ„›ãƒ»å¯¾äºº",title:"äººé–“é–¢ä¿‚ã¨æ‹æ„›ã®ãƒ’ãƒ³ãƒˆ",good:"å¯¾äººé–¢ä¿‚ã«å¤‰åŒ–ãŒèµ·ãã‚‹ã‚µã‚¤ãƒ³ã€‚ç´ ç›´ã«ãªã‚‹ã“ã¨ã§æ–°ã—ã„å±•é–‹ãŒç”Ÿã¾ã‚Œãã†ã€‚",watch:"é•å’Œæ„Ÿã‚’æ„Ÿã˜ãŸã‚‰ç›´æ„Ÿã‚’ç„¡è¦–ã—ãªã„ã§ã€‚æƒ°æ€§ã®é–¢ä¿‚ã¯è¦‹ç›´ã™æ™‚æœŸã€‚"},eastern:{label:"æ±æ´‹å è¡“",title:"é‹æ°—ã®æµã‚ŒãŒå¤‰ã‚ã‚‹å‰å…†",good:"é‹æ°—ã®è»¢æ›æœŸã€‚å¯¾äººé‹ã¨é‡‘é‹ã«å‹•ãã‚ã‚Šã€‚éƒ¨å±‹ã®æƒé™¤ã§é‹æ°—UPã€‚",watch:"å¤ã„ç¸ã«ã—ãŒã¿ã¤ã‹ãªã„ã§ã€‚ç”Ÿæ´»ãƒªã‚ºãƒ ã‚’æ•´ãˆã‚‹ã¨æµã‚ŒãŒã‚ˆããªã‚‹ã‚ˆã€‚"}};
  const actions={should:["å¤¢ã®å†…å®¹ã‚’ã‚¹ãƒãƒ›ã«ãƒ¡ãƒ¢ã™ã‚‹","ãªã‚“ã¨ãªãã‚’ä¿¡ã˜ã¦å‹•ã","ä¿¡é ¼ã§ãã‚‹äººã«å¤¢ã®è©±ã‚’ã™ã‚‹"],aware:["å¶ç„¶ã®ä¸€è‡´ã«æ³¨ç›®ã™ã‚‹","äººé–“é–¢ä¿‚ã®å°ã•ãªå¤‰åŒ–","è‡ªåˆ†ã®ä½“èª¿ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼"],avoid:["å¤¢ã®æ„å‘³ã‚’è€ƒãˆã™ãã‚‹ã“ã¨","å¤§ããªãŠé‡‘ã®æ±ºæ–­ã‚’ä»Šæ—¥ã™ã‚‹ã“ã¨","ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å¥ªã†äººã¨é•·æ™‚é–“éã”ã™ã“ã¨"]};
  return{symbols,type,views,actions,lucky:generateLucky()};
}

/* â”€â”€â”€ UI Components â”€â”€â”€ */
function Particles(){const dots=Array.from({length:12},(_,i)=>({x:Math.random()*100,y:Math.random()*100,s:Math.random()*3+1,d:Math.random()*5+3,delay:Math.random()*4,color:["var(--rose)","var(--lavender)","var(--blush)","var(--gold)"][i%4]}));return<div style={{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none"}}>{dots.map((s,i)=><div key={i} style={{position:"absolute",left:s.x+"%",top:s.y+"%",width:s.s*2,height:s.s*2,borderRadius:"50%",background:s.color,opacity:0.25,animation:`twinkle ${s.d}s ease infinite`,animationDelay:s.delay+"s"}}/>)}</div>}
function Tag({text,color}){return<span style={{padding:"4px 10px",borderRadius:6,background:color+"18",color,fontSize:10,fontWeight:700,fontFamily:"Cormorant, serif",letterSpacing:1,textTransform:"uppercase"}}>{text}</span>}
function Card({children,className="",style={}}){return<div className={className} style={{background:"var(--card)",border:"1px solid var(--border)",borderRadius:18,padding:22,boxShadow:"var(--shadow)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",...style}}>{children}</div>}

function PremiumCTA({style={}}){return<div className="slide-up-4" style={{background:"linear-gradient(135deg,rgba(232,98,124,0.06),rgba(176,138,207,0.06))",border:"1px solid rgba(232,98,124,0.12)",borderRadius:18,padding:"20px 22px",textAlign:"center",...style}}>
  <p style={{fontSize:14,fontWeight:700,color:"var(--t1)",marginBottom:6}}>âœ¨ ã‚‚ã£ã¨æ·±ãèª­ã¿è§£ããŸã„ï¼Ÿ</p>
  <p style={{fontSize:12,color:"var(--t2)",lineHeight:1.8,marginBottom:16}}>ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã§æ¯æœã®ãŠå®ˆã‚Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„<br/>ç›¸æ€§å ã„ã€å¤¢æ—¥è¨˜AIãŒä½¿ãˆã‚‹ã‚ˆ</p>
  <div style={{display:"flex",gap:8}}>
    <button className="hover-lift" style={{flex:1,padding:"13px 0",borderRadius:14,border:"none",background:"var(--grad)",color:"#fff",fontSize:13,fontWeight:700,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>æœˆé¡ Â¥980</button>
    <button className="hover-lift" style={{flex:1,padding:"13px 0",borderRadius:14,border:"1px solid rgba(232,98,124,0.25)",background:"transparent",color:"var(--rose)",fontSize:13,fontWeight:600,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>1å› Â¥500</button>
  </div>
  <p style={{fontSize:10,color:"var(--t4)",marginTop:10}}>åˆå›7æ—¥é–“ç„¡æ–™ / ã„ã¤ã§ã‚‚è§£ç´„OK</p>
</div>}

function LuckySection({lucky,className=""}){
  const items=[{label:"COLOR",value:lucky.color.v,reason:lucky.color.reason,bg:lucky.color.hex+"20",dot:lucky.color.hex},{label:"ITEM",value:lucky.item.v,reason:lucky.item.reason,bg:"rgba(176,138,207,0.08)",emoji:lucky.item.e},{label:"NUMBER",value:lucky.num.v,reason:lucky.num.reason,bg:"rgba(212,168,83,0.08)",emoji:"âœ¨"}];
  return<div className={className} style={{marginBottom:24}}>
    <p style={{fontSize:14,fontWeight:700,marginBottom:14,background:"var(--grad2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}>Today's Lucky</p>
    {items.map((item,i)=><Card key={i} style={{marginBottom:8,display:"flex",alignItems:"center",gap:16}}>
      <div style={{width:50,height:50,borderRadius:14,background:item.bg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:item.emoji?20:14}}>
        {item.emoji||<div style={{width:20,height:20,borderRadius:"50%",background:item.dot}}/>}
      </div>
      <div style={{flex:1}}>
        <p style={{fontSize:9,color:"var(--t4)",letterSpacing:2,textTransform:"uppercase",fontFamily:"Cormorant, serif",marginBottom:3}}>{item.label}</p>
        <p style={{fontSize:15,fontWeight:700,color:"var(--t1)",marginBottom:2}}>{item.value}</p>
        <p style={{fontSize:12,color:"var(--t2)",lineHeight:1.7}}>{item.reason}</p>
      </div>
    </Card>)}
    {lucky.matchType&&<Card style={{marginTop:4,background:"linear-gradient(135deg,rgba(232,98,124,0.05),rgba(176,138,207,0.05))"}}>
      <div style={{display:"flex",alignItems:"center",gap:10,marginBottom:12}}>
        <span style={{fontSize:18}}>ğŸ’«</span>
        <p style={{fontSize:9,color:"var(--t4)",letterSpacing:2,textTransform:"uppercase",fontFamily:"Cormorant, serif"}}>today's match type</p>
      </div>
      <div style={{display:"flex",alignItems:"center",gap:14}}>
        <CharaAvatar id={lucky.matchType.id} size={56}/>
        <div>
          <p style={{fontSize:15,fontWeight:700,color:"var(--t1)"}}>{lucky.matchType.name}</p>
          <p style={{fontSize:11,color:"var(--t3)",marginTop:2}}>{lucky.matchType.sub}</p>
          <p style={{fontSize:12,color:"var(--t2)",lineHeight:1.8,marginTop:6}}>{lucky.matchHint}</p>
        </div>
      </div>
    </Card>}
  </div>;
}

function DreamTypeCard({type,className=""}){
  const bestType=DREAM_TYPES.find(t=>t.id===type.bestMatch);
  return<div className={className} style={{textAlign:"center",margin:"24px 0"}}>
    <div style={{display:"inline-block",padding:"24px 32px",borderRadius:24,background:`linear-gradient(135deg,${type.color}12,${type.color}06)`,border:`1px solid ${type.color}20`,marginBottom:16,boxShadow:`0 4px 24px ${type.color}08`}}>
      <CharaAvatar id={type.id} size={80} animate={true}/>
      <p style={{fontSize:9,letterSpacing:4,color:"var(--t4)",textTransform:"uppercase",fontFamily:"Cormorant, serif",marginBottom:6,marginTop:8}}>your dream type</p>
      <p style={{fontSize:24,fontWeight:700,marginBottom:2,background:`linear-gradient(135deg,${type.color},var(--rose))`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}>{type.name}</p>
      <p style={{fontSize:12,color:"var(--t2)"}}>{type.sub}</p>
      <p style={{fontSize:11,color:"var(--t3)",marginTop:4}}>å…¨äººå£ã®{type.pct}</p>
    </div>
    <Card style={{textAlign:"left",marginBottom:10}}>
      <p style={{fontSize:13,fontWeight:700,marginBottom:8,color:type.color}}>ã‚ãªãŸã®ç‰¹å¾´</p>
      <p style={{fontSize:13,color:"var(--t2)",lineHeight:2}}>{type.desc}</p>
    </Card>
    <Card style={{textAlign:"left",marginBottom:10}}>
      <p style={{fontSize:13,fontWeight:700,marginBottom:8,color:"var(--rose)"}}>æ‹æ„›å‚¾å‘</p>
      <p style={{fontSize:13,color:"var(--t2)",lineHeight:2}}>{type.love}</p>
    </Card>
    {bestType&&<Card style={{textAlign:"left",marginBottom:10}}>
      <p style={{fontSize:9,letterSpacing:3,color:"var(--t4)",textTransform:"uppercase",fontFamily:"Cormorant, serif",marginBottom:12}}>best match</p>
      <div style={{display:"flex",alignItems:"center",gap:12}}>
        <CharaAvatar id={bestType.id} size={48}/>
        <div><p style={{fontSize:14,fontWeight:700,color:"var(--t1)"}}>{bestType.name}</p>
          <p style={{fontSize:12,color:"var(--t2)",lineHeight:1.8,marginTop:4}}>{type.bestWhy}</p></div>
      </div>
    </Card>}
    <button className="hover-lift" style={{width:"100%",padding:"14px",borderRadius:14,border:"1px solid rgba(232,98,124,0.18)",background:"rgba(232,98,124,0.05)",color:"var(--rose)",fontSize:13,fontWeight:600,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer",marginBottom:8}}>ğŸ“± ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«ã‚·ã‚§ã‚¢</button>
  </div>;
}

/* â”€â”€â”€ Character Carousel â”€â”€â”€ */
function CharacterCarousel(){
  const scrollRef=useRef(null);const [active,setActive]=useState(0);
  useEffect(()=>{const iv=setInterval(()=>{setActive(p=>{const n=(p+1)%DREAM_TYPES.length;if(scrollRef.current){const c=scrollRef.current.children[n];if(c)c.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}return n})},2500);return()=>clearInterval(iv)},[]);
  function handleScroll(){if(!scrollRef.current)return;const el=scrollRef.current;const w=el.children[0]?.offsetWidth||90;const idx=Math.round(el.scrollLeft/(w+10));setActive(Math.min(Math.max(idx,0),DREAM_TYPES.length-1))}
  return<div className="slide-up-1" style={{marginTop:16,marginBottom:8}}>
    <p style={{fontSize:11,color:"var(--t3)",marginBottom:10,textAlign:"center",letterSpacing:1}}>ã‚ãªãŸã¯ã©ã®ã‚¿ã‚¤ãƒ—ï¼Ÿ â€” å…¨12ç¨®</p>
    <div ref={scrollRef} onScroll={handleScroll} className="no-scrollbar" style={{display:"flex",gap:10,overflowX:"auto",paddingBottom:10,scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch"}}>
      {DREAM_TYPES.map((t,i)=><div key={t.id} className="hover-lift" style={{minWidth:86,maxWidth:86,scrollSnapAlign:"center",cursor:"pointer",background:active===i?`linear-gradient(135deg,${t.color}15,${t.color}08)`:"rgba(255,255,255,0.6)",border:active===i?`1.5px solid ${t.color}35`:"1px solid var(--border)",borderRadius:16,padding:"12px 4px 10px",textAlign:"center",boxShadow:active===i?`0 4px 20px ${t.color}12`:"var(--shadow)",transition:"all 0.3s ease",transform:active===i?"scale(1.06)":"scale(1)"}}>
        <div style={{display:"flex",justifyContent:"center",alignItems:"center",height:52,marginBottom:4}}><CharaAvatar id={t.id} size={48} animate={active===i}/></div>
        <p style={{fontSize:10,fontWeight:700,color:"var(--t1)",lineHeight:1.3}}>{t.name}</p>
      </div>)}
    </div>
    <div style={{display:"flex",justifyContent:"center",gap:3,marginTop:6}}>
      {DREAM_TYPES.map((_,i)=><div key={i} style={{width:active===i?12:4,height:4,borderRadius:4,background:active===i?"var(--rose)":"var(--border)",transition:"all 0.3s"}}/>)}
    </div>
  </div>;
}

/* â”€â”€â”€ Main App â”€â”€â”€ */
function App(){
  const [mode,setMode]=useState("dream");const [page,setPage]=useState("home");
  const [dreamText,setDreamText]=useState("");const [dreamResult,setDreamResult]=useState(null);
  const [fortuneResult,setFortuneResult]=useState(null);const [loadingMsg,setLoadingMsg]=useState("");
  const [viewTab,setViewTab]=useState("spiritual");const [name,setName]=useState("");
  const [sign,setSign]=useState("");const [gender,setGender]=useState("");
  const [userCount]=useState(1847+Math.floor(Math.random()*800));
  const canFortune=name.trim()&&sign&&gender;
  const quickDreams=["è¿½ã„ã‹ã‘ã‚‰ã‚Œã‚‹å¤¢","æ­¯ãŒæŠœã‘ã‚‹å¤¢","ç©ºã‚’é£›ã¶å¤¢","æµ·ã«ã„ã‚‹å¤¢","è›‡ãŒå‡ºã¦ãã‚‹å¤¢","è½ã¡ã‚‹å¤¢","é…åˆ»ã™ã‚‹å¤¢","å¥½ããªäººãŒå‡ºã¦ãã‚‹å¤¢","çŸ¥ã‚‰ãªã„å ´æ‰€ã«ã„ã‚‹å¤¢","å…ƒã‚«ãƒ¬/å…ƒã‚«ãƒã®å¤¢","è©¦é¨“ã«è½ã¡ã‚‹å¤¢","ç«äº‹ã®å¤¢"];

  function startDream(){if(!dreamText.trim())return;setPage("loading");const msgs=["å¤¢ã‚’èª­ã¿å–ã£ã¦ã‚‹ã‚ˆ","ã‚·ãƒ³ãƒœãƒ«ã‚’è§£æä¸­","ã‚ãªãŸã®å¤¢ã‚¿ã‚¤ãƒ—ã‚’è¨ºæ–­ä¸­","ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã¾ã¨ã‚ä¸­"];let i=0;setLoadingMsg(msgs[0]);const iv=setInterval(()=>{i++;if(i<msgs.length)setLoadingMsg(msgs[i]);else{clearInterval(iv);setDreamResult(analyzeDream(dreamText));setViewTab("spiritual");setPage("dreamResult")}},900)}
  function startFortune(){if(!canFortune)return;setPage("loading");const msgs=["æ˜Ÿã®é…ç½®ã‚’èª­ã‚“ã§ã‚‹ã‚ˆ",name+"ã•ã‚“ã®ãƒ›ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã‚’åˆ†æä¸­","ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã¾ã¨ã‚ä¸­"];let i=0;setLoadingMsg(msgs[0]);const iv=setInterval(()=>{i++;if(i<msgs.length)setLoadingMsg(msgs[i]);else{clearInterval(iv);setFortuneResult(generateFortune(name,sign,gender));setPage("fortuneResult")}},900)}
  function goHome(){setPage("home");setDreamResult(null);setFortuneResult(null)}

  const btnStyle={borderRadius:14,border:"none",background:"var(--grad)",color:"#fff",fontSize:15,fontWeight:700,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer",letterSpacing:1};
  const btnOff={...btnStyle,background:"rgba(58,40,48,0.06)",color:"rgba(58,40,48,0.18)",cursor:"default"};

  return<div style={{minHeight:"100vh",background:"linear-gradient(180deg,#FFF5F0 0%,#FFF0EB 25%,#FFE8E0 50%,#FFF0EB 75%,#FFF5F0 100%)",fontFamily:"Zen Maru Gothic, sans-serif",color:"var(--t1)",WebkitFontSmoothing:"antialiased"}}>
    <div style={{maxWidth:440,margin:"0 auto",padding:"0 20px"}}>

      <header className="fade-in" style={{textAlign:"center",paddingTop:36,paddingBottom:8,position:"relative"}}>
        <Particles/><div style={{position:"relative",zIndex:1}}>
          <div style={{marginBottom:4,animation:"float 4s ease infinite"}}>{mode==="dream"
            ?<svg viewBox="0 0 80 80" width={64} height={64}><defs><linearGradient id="moonH" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#F0D8FF"/><stop offset="100%" stopColor="#B08ACF"/></linearGradient></defs><circle cx="40" cy="40" r="28" fill="url(#moonH)"/><circle cx="52" cy="34" r="22" fill="#FFF5F0"/><circle cx="22" cy="18" r="2" fill="#F5E6A8" opacity="0.6"/><circle cx="60" cy="58" r="1.5" fill="#F5E6A8" opacity="0.5"/><circle cx="16" cy="52" r="1" fill="#F5E6A8" opacity="0.4"/></svg>
            :<svg viewBox="0 0 80 80" width={64} height={64}><defs><linearGradient id="starH" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#FFD080"/><stop offset="100%" stopColor="#E8627C"/></linearGradient></defs><polygon points="40,6 49,28 72,30 55,46 59,70 40,58 21,70 25,46 8,30 31,28" fill="url(#starH)"/><polygon points="40,14 46,28 60,30 50,40 52,55 40,48 28,55 30,40 20,30 34,28" fill="#fff" opacity="0.2"/></svg>
          }</div>
          <h1 style={{fontSize:28,fontWeight:700,letterSpacing:4}}><span style={{background:"var(--grad2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}>ã‚ˆã‚‹ã®ã“ã¨ã°</span></h1>
          <p style={{fontSize:13,color:"var(--t2)",marginTop:8,lineHeight:1.7}}>å¤¢å ã„ Ã— ãƒ›ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã§ã€ã‚ãªãŸã®ä»Šã‚’èª­ã¿è§£ã</p>
        </div>
      </header>

      {page==="home"&&<CharacterCarousel/>}

      {page==="home"&&<div className="slide-up" style={{display:"flex",gap:4,margin:"20px 0 24px",background:"rgba(232,98,124,0.04)",borderRadius:14,padding:4}}>
        {[{k:"dream",l:"å¤¢å ã„"},{k:"fortune",l:"ãƒ›ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—"}].map(t=><button key={t.k} onClick={()=>setMode(t.k)} style={{flex:1,padding:"12px 0",borderRadius:11,border:"none",background:mode===t.k?"rgba(232,98,124,0.1)":"transparent",color:mode===t.k?"var(--rose)":"var(--t3)",fontSize:13,fontWeight:600,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>{t.l}</button>)}
      </div>}

      {page==="home"&&mode==="dream"&&<><Card className="slide-up">
        <p style={{fontSize:13,color:"var(--t2)",marginBottom:14,fontWeight:500}}>ä»Šæœã®å¤¢ã‚’æ•™ãˆã¦</p>
        <textarea value={dreamText} onChange={e=>setDreamText(e.target.value)} placeholder={"ä¾‹ï¼šçŸ¥ã‚‰ãªã„è¡—ã‚’æ­©ã„ã¦ãŸã‚‰\næ€¥ã«ç©ºãŒç´«è‰²ã«å¤‰ã‚ã£ã¦..."} style={{width:"100%",minHeight:120,background:"rgba(58,40,48,0.02)",border:"1px solid var(--border)",borderRadius:14,padding:16,fontSize:15,lineHeight:2,color:"var(--t1)",fontFamily:"Zen Maru Gothic, sans-serif",resize:"vertical"}}/>
        <button onClick={startDream} disabled={!dreamText.trim()} style={{width:"100%",marginTop:16,padding:"16px 0",...(dreamText.trim()?btnStyle:btnOff)}}>å¤¢ã‚¿ã‚¤ãƒ—ã‚’è¨ºæ–­ã™ã‚‹</button>
      </Card>
      <div className="slide-up-1" style={{margin:"20px 0 24px"}}>
        <p style={{fontSize:12,color:"var(--t3)",marginBottom:10}}>ã‚ˆãè¦‹ã‚‹å¤¢</p>
        <div style={{display:"flex",flexWrap:"wrap",gap:8}}>{quickDreams.map((d,i)=><button key={i} className="hover-lift" onClick={()=>setDreamText(d)} style={{padding:"9px 16px",borderRadius:20,border:"1px solid var(--border)",background:"rgba(255,255,255,0.5)",color:"var(--t2)",fontSize:12,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>{d}</button>)}</div>
      </div></>}

      {page==="home"&&mode==="fortune"&&<Card className="slide-up" style={{padding:24}}>
        <div style={{textAlign:"center",marginBottom:12}}><svg viewBox="0 0 100 100" width={56} height={56}><defs><linearGradient id="starI" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#FFD080"/><stop offset="100%" stopColor="#E8627C"/></linearGradient></defs><polygon points="50,8 61,35 90,38 68,58 74,88 50,73 26,88 32,58 10,38 39,35" fill="url(#starI)"/><polygon points="50,18 58,35 76,38 63,50 66,68 50,60 34,68 37,50 24,38 42,35" fill="#fff" opacity="0.25"/></svg></div>
        <p style={{fontSize:14,color:"var(--t2)",textAlign:"center",marginBottom:20,lineHeight:1.7}}>æ˜Ÿåº§ã‚’é¸ã‚“ã§ã‚µã‚¯ãƒƒã¨å ãŠã†</p>
        <p style={{fontSize:11,color:"var(--t3)",marginBottom:6}}>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ </p>
        <input value={name} onChange={e=>setName(e.target.value)} placeholder="ä¾‹ï¼šã¿ã" style={{width:"100%",background:"rgba(58,40,48,0.03)",border:"1px solid var(--border)",borderRadius:12,padding:"12px 16px",fontSize:15,color:"var(--t1)",fontFamily:"Zen Maru Gothic, sans-serif",marginBottom:16}}/>
        <p style={{fontSize:11,color:"var(--t3)",marginBottom:8}}>æ€§åˆ¥</p>
        <div style={{display:"flex",gap:8,marginBottom:20}}>
          {[{k:"female",l:"å¥³æ€§"},{k:"male",l:"ç”·æ€§"},{k:"other",l:"ãã®ä»–"}].map(g=>{const sel=gender===g.k;return<button key={g.k} onClick={()=>setGender(g.k)} style={{padding:"8px 16px",borderRadius:20,border:sel?"1px solid rgba(232,98,124,0.4)":"1px solid var(--border)",background:sel?"rgba(232,98,124,0.08)":"rgba(255,255,255,0.5)",color:sel?"var(--rose)":"var(--t2)",fontSize:13,fontWeight:sel?700:400,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>{g.l}</button>})}
        </div>
        <p style={{fontSize:11,color:"var(--t3)",marginBottom:10}}>ã‚ãªãŸã®æ˜Ÿåº§</p>
        <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:8,marginBottom:20}}>
          {SIGNS.map(s=>{const sel=sign===s.k;return<button key={s.k} onClick={()=>setSign(s.k)} style={{padding:"12px 4px",borderRadius:12,border:sel?"1px solid rgba(232,98,124,0.5)":"1px solid var(--border)",background:sel?"rgba(232,98,124,0.08)":"rgba(255,255,255,0.5)",cursor:"pointer",textAlign:"center",transition:"all .15s"}}><div style={{fontSize:20,lineHeight:1,marginBottom:4}}>{s.icon}</div><div style={{fontSize:10,color:sel?"var(--rose)":"var(--t2)",fontWeight:sel?700:400,fontFamily:"Zen Maru Gothic, sans-serif"}}>{s.k.replace("åº§","")}</div></button>})}
        </div>
        <button onClick={startFortune} disabled={!canFortune} style={{width:"100%",padding:"16px 0",...(canFortune?btnStyle:btnOff)}}>ãƒ›ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã‚’è¦‹ã‚‹</button>
      </Card>}

      {page==="home"&&<div className="slide-up-2" style={{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:14,borderRadius:12,background:"rgba(255,255,255,0.5)",border:"1px solid var(--border)",marginTop:24,marginBottom:12}}>
        <span style={{width:6,height:6,borderRadius:"50%",background:"#6BBF8A",animation:"pulse 2s infinite"}}/><span style={{fontSize:12,color:"var(--t3)"}}>ä»Šæ—¥ <span style={{color:"var(--rose)",fontWeight:700}}>{userCount.toLocaleString()}</span> äººãŒå ã£ãŸã‚ˆ</span>
      </div>}
      {page==="home"&&<PremiumCTA style={{marginBottom:32}}/>}

      {page==="loading"&&<div className="fade-in" style={{textAlign:"center",padding:"60px 0"}}>
        <div style={{marginBottom:20,animation:"float 2s ease infinite"}}>{mode==="dream"
          ?<svg viewBox="0 0 80 80" width={80} height={80}><defs><linearGradient id="moonL" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#F0D8FF"/><stop offset="100%" stopColor="#B08ACF"/></linearGradient></defs><circle cx="40" cy="40" r="28" fill="url(#moonL)"/><circle cx="52" cy="34" r="22" fill="#FFF5F0"/></svg>
          :<svg viewBox="0 0 80 80" width={80} height={80}><defs><linearGradient id="starL" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#FFD080"/><stop offset="100%" stopColor="#E8627C"/></linearGradient></defs><polygon points="40,6 49,28 72,30 55,46 59,70 40,58 21,70 25,46 8,30 31,28" fill="url(#starL)"/></svg>
        }</div>
        <div style={{width:40,height:40,margin:"0 auto 24px",borderRadius:"50%",border:"2px solid var(--border)",borderTopColor:"var(--rose)",animation:"spin 1s linear infinite"}}/>
        <p style={{fontSize:14,color:"var(--t3)",animation:"breathe 1.8s infinite"}}>{loadingMsg}</p>
      </div>}

      {page==="fortuneResult"&&fortuneResult&&<>
        <div className="slide-up" style={{textAlign:"center",marginBottom:24}}>
          <svg viewBox="0 0 100 100" width={80} height={80} style={{animation:"float 3s ease infinite"}}><defs><linearGradient id="starG" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#FFD080"/><stop offset="100%" stopColor="#E8627C"/></linearGradient></defs><polygon points="50,8 61,35 90,38 68,58 74,88 50,73 26,88 32,58 10,38 39,35" fill="url(#starG)"/><polygon points="50,18 58,35 76,38 63,50 66,68 50,60 34,68 37,50 24,38 42,35" fill="#fff" opacity="0.25"/></svg>
          <p style={{fontSize:10,color:"var(--t4)",letterSpacing:3,textTransform:"uppercase",marginTop:8,fontFamily:"Cormorant, serif"}}>{name} ã® {sign}</p>
          <div style={{fontSize:48,fontWeight:700,marginTop:8,background:"var(--grad2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}>{fortuneResult.rank}</div>
        </div>
        <Card className="slide-up-1" style={{marginBottom:12}}><div style={{display:"flex",alignItems:"center",gap:8,marginBottom:12}}><Tag text="good" color="#5BA87C"/><span style={{fontSize:14,fontWeight:700}}>ã„ã„ã“ã¨</span></div><p style={{fontSize:14,color:"var(--t2)",lineHeight:2.1}}>{fortuneResult.good}</p></Card>
        <Card className="slide-up-2" style={{marginBottom:24}}><div style={{display:"flex",alignItems:"center",gap:8,marginBottom:12}}><Tag text="watch" color="#D47070"/><span style={{fontSize:14,fontWeight:700}}>æ°—ã‚’ã¤ã‘ã‚‹ã“ã¨</span></div><p style={{fontSize:14,color:"var(--t2)",lineHeight:2.1}}>{fortuneResult.watch}</p></Card>
        <LuckySection lucky={fortuneResult.lucky} className="slide-up-3"/>
        <PremiumCTA style={{marginBottom:20}}/>
        <div className="slide-up-5" style={{display:"flex",gap:8,marginBottom:40}}>
          <button className="hover-lift" style={{flex:1,padding:"15px 0",borderRadius:12,border:"1px solid var(--border)",background:"rgba(255,255,255,0.5)",color:"var(--t2)",fontSize:13,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«ã‚·ã‚§ã‚¢</button>
          <button className="hover-lift" onClick={goHome} style={{flex:1,padding:"15px 0",borderRadius:12,...btnStyle,fontSize:13}}>å¤¢å ã„ã‚‚ã‚„ã‚‹</button>
        </div>
      </>}

      {page==="dreamResult"&&dreamResult&&<>
        <Card className="slide-up" style={{marginBottom:16}}>
          <p style={{fontSize:12,color:"var(--t3)",marginBottom:8}}>ã‚ãªãŸã®å¤¢</p>
          <p style={{fontSize:14,color:"var(--t1)",lineHeight:1.9}}>{dreamText}</p>
          <div style={{display:"flex",gap:6,marginTop:12,flexWrap:"wrap"}}>{dreamResult.symbols.map((s,i)=><span key={i} style={{padding:"5px 14px",borderRadius:20,background:"rgba(232,98,124,0.07)",border:"1px solid rgba(232,98,124,0.15)",fontSize:12,color:"var(--rose)"}}>{s.word} â€” {s.meaning}</span>)}</div>
        </Card>

        {/* Interpretation tabs - PRIMARY content */}
        <div className="slide-up-1" style={{display:"flex",gap:6,marginBottom:16,overflowX:"auto",paddingBottom:2}}>
          {Object.entries(dreamResult.views).map(([k,v])=><button key={k} className="hover-lift" onClick={()=>setViewTab(k)} style={{padding:"10px 16px",borderRadius:20,border:viewTab===k?"1px solid rgba(232,98,124,0.3)":"1px solid var(--border)",background:viewTab===k?"rgba(232,98,124,0.08)":"rgba(255,255,255,0.5)",color:viewTab===k?"var(--rose)":"var(--t3)",fontSize:12,fontWeight:600,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer",whiteSpace:"nowrap",flexShrink:0}}>{v.label}</button>)}
        </div>
        {(()=>{const v=dreamResult.views[viewTab];return<div key={viewTab} className="slide-up">
          <Card style={{marginBottom:12}}><h3 style={{fontSize:17,fontWeight:700,marginBottom:14,lineHeight:1.5,background:"var(--grad2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}>{v.title}</h3><div style={{display:"flex",alignItems:"center",gap:8,marginBottom:10}}><Tag text="good" color="#5BA87C"/><span style={{fontSize:13,fontWeight:700}}>ã„ã„ã“ã¨</span></div><p style={{fontSize:14,color:"var(--t2)",lineHeight:2.1}}>{v.good}</p></Card>
          <Card style={{marginBottom:24}}><div style={{display:"flex",alignItems:"center",gap:8,marginBottom:10}}><Tag text="watch" color="#D47070"/><span style={{fontSize:13,fontWeight:700}}>æ°—ã‚’ã¤ã‘ã‚‹ã“ã¨</span></div><p style={{fontSize:14,color:"var(--t2)",lineHeight:2.1}}>{v.watch}</p></Card>
        </div>})()}

        {/* Advice */}
        <div className="slide-up-2" style={{marginBottom:24}}>
          <p style={{fontSize:16,fontWeight:700,marginBottom:16,background:"var(--grad2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}>å¤¢ã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</p>
          {[{mark:"do",title:"ã—ãŸã»ã†ãŒã„ã„ã“ã¨",items:dreamResult.actions.should,accent:"#5BA87C"},{mark:"notice",title:"æ°—ã«ã—ã¦ãŠãã“ã¨",items:dreamResult.actions.aware,accent:"#6BA3BE"},{mark:"avoid",title:"ã‚„ã‚ã¦ãŠãã“ã¨",items:dreamResult.actions.avoid,accent:"#D47070"}].map((sec,i)=><Card key={i} style={{marginBottom:10}}>
            <div style={{display:"flex",alignItems:"center",gap:10,marginBottom:14}}><Tag text={sec.mark} color={sec.accent}/><span style={{fontSize:14,fontWeight:700}}>{sec.title}</span></div>
            {sec.items.map((item,j)=><div key={j} style={{display:"flex",alignItems:"flex-start",gap:10,padding:"10px 0",borderTop:j>0?"1px solid rgba(58,40,48,0.06)":"none"}}><span style={{width:5,height:5,borderRadius:"50%",background:sec.accent+"40",marginTop:9,flexShrink:0}}/><span style={{fontSize:14,color:"var(--t2)",lineHeight:1.8}}>{item}</span></div>)}
          </Card>)}
        </div>

        <LuckySection lucky={dreamResult.lucky} className="slide-up-3"/>

        {/* Dream Type - secondary, at bottom */}
        <DreamTypeCard type={dreamResult.type} className="slide-up-4"/>

        <PremiumCTA style={{marginBottom:20}}/>
        <div className="slide-up-5" style={{display:"flex",gap:8,marginBottom:40}}>
          <button className="hover-lift" style={{flex:1,padding:"15px 0",borderRadius:12,border:"1px solid var(--border)",background:"rgba(255,255,255,0.5)",color:"var(--t2)",fontSize:13,fontFamily:"Zen Maru Gothic, sans-serif",cursor:"pointer"}}>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«ã‚·ã‚§ã‚¢</button>
          <button className="hover-lift" onClick={goHome} style={{flex:1,padding:"15px 0",borderRadius:12,...btnStyle,fontSize:13}}>ã‚‚ã†ä¸€åº¦å ã†</button>
        </div>
      </>}

      <footer style={{textAlign:"center",padding:"20px 0 52px",borderTop:"1px solid rgba(58,40,48,0.06)"}}>
        <p style={{fontFamily:"Cormorant, serif",fontSize:14,color:"var(--t4)",letterSpacing:4,fontWeight:300}}>ã‚ˆã‚‹ã®ã“ã¨ã°</p>
        <p style={{fontSize:9,color:"var(--t4)",marginTop:6,opacity:0.5}}>Â© 2026</p>
      </footer>
    </div>
  </div>;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
